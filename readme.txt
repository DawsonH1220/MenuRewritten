This does the same exact thing as my menu system. It's just rewritten with switch statements.